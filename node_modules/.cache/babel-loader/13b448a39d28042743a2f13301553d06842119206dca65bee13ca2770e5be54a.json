{"ast":null,"code":"import{useContext,useEffect}from\"react\";import CurrentUserContext from\"../contexts/CurrentUserContext\";import useFormValidation from\"../hooks/useFormValidation.js\";import PopupWithForm from\"./PopupWithForm.jsx\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var currentUser=useContext(CurrentUserContext);var _useFormValidation=useFormValidation(),values=_useFormValidation.values,error=_useFormValidation.error,isValid=_useFormValidation.isValid,handleChange=_useFormValidation.handleChange,reset=_useFormValidation.reset,setValue=_useFormValidation.setValue;useEffect(function(){setValue(\"name\",currentUser.name);setValue(\"info\",currentUser.about);},[currentUser,setValue]);function resetAfterClose(){onClose();reset({name:currentUser.name,info:currentUser.about});}function handleSubmit(event){event.preventDefault();onUpdateUser({name:values.name,info:values.info},reset);}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"popup-profileEdit\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpen:isOpen,isValid:isValid,onClose:resetAfterClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{id:\"name\",minLength:2,maxLength:40,required:\"\",className:\"popup__input popup__input_type_name\",name:\"name\",type:\"text\",value:values.name?values.name:\"\",onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{id:\"name-error\",className:\"popup__error\",children:error.name}),/*#__PURE__*/_jsx(\"input\",{id:\"info\",minLength:2,maxLength:200,required:\"\",className:\"popup__input popup__input_type_info\",name:\"info\",type:\"text\",value:values.info?values.info:\"\",onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{id:\"info-error\",className:\"popup__error\",children:error.info})]});}","map":{"version":3,"names":["useContext","useEffect","CurrentUserContext","useFormValidation","PopupWithForm","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","isOpen","onClose","onUpdateUser","currentUser","_useFormValidation","values","error","isValid","handleChange","reset","setValue","name","about","resetAfterClose","info","handleSubmit","event","preventDefault","title","onSubmit","children","id","minLength","maxLength","required","className","type","value","onChange"],"sources":["/Users/roman/Documents/Я.Практикум/Projects/mesto-react/src/components/EditProfilePopup.jsx"],"sourcesContent":["import { useContext, useEffect } from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport useFormValidation from \"../hooks/useFormValidation.js\";\nimport PopupWithForm from \"./PopupWithForm.jsx\";\n\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const currentUser = useContext(CurrentUserContext);\n  const { values, error, isValid, handleChange, reset, setValue } =\n    useFormValidation();\n\n  useEffect(() => {\n    setValue(\"name\", currentUser.name);\n    setValue(\"info\", currentUser.about);\n  }, [currentUser, setValue]);\n\n  function resetAfterClose() {\n    onClose();\n    reset({ name: currentUser.name, info: currentUser.about });\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    onUpdateUser({ name: values.name, info: values.info }, reset);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"popup-profileEdit\"\n      title=\"Редактировать профиль\"\n      isOpen={isOpen}\n      isValid={isValid}\n      onClose={resetAfterClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        id=\"name\"\n        minLength={2}\n        maxLength={40}\n        required=\"\"\n        className=\"popup__input popup__input_type_name\"\n        name=\"name\"\n        type=\"text\"\n        value={values.name ? values.name : \"\"}\n        onChange={handleChange}\n      />\n      <span id=\"name-error\" className=\"popup__error\">\n        {error.name}\n      </span>\n      <input\n        id=\"info\"\n        minLength={2}\n        maxLength={200}\n        required=\"\"\n        className=\"popup__input popup__input_type_info\"\n        name=\"info\"\n        type=\"text\"\n        value={values.info ? values.info : \"\"}\n        onChange={handleChange}\n      />\n      <span id=\"info-error\" className=\"popup__error\">\n        {error.info}\n      </span>\n    </PopupWithForm>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}