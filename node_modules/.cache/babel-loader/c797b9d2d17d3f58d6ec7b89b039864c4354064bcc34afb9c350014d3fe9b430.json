{"ast":null,"code":"export default class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n  _handleResponse(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"GET\",\n      headers: this._headers\n    }).then(this._handleResponse);\n  }\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"GET\",\n      headers: this._headers\n    }).then(this._handleResponse);\n  }\n  setUserInfo(_ref) {\n    let {\n      inputName,\n      inputAbout\n    } = _ref;\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: inputName,\n        about: inputAbout\n      })\n    }).then(this._handleResponse);\n  }\n  createNewCard(data) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(this._handleResponse);\n  }\n  likeCard(data) {\n    return fetch(`${this._baseUrl}/cards/${data._id}/likes`, {\n      method: \"PUT\",\n      headers: this._headers\n    }).then(this._handleResponse);\n  }\n  disLike(data) {\n    return fetch(`${this._baseUrl}/cards/${data._id}/likes`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._handleResponse);\n  }\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._handleResponse);\n  }\n  updateAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    }).then(this._handleResponse);\n  }\n}\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-66\",\n  headers: {\n    authorization: \"aa98c8c5-50a3-4af7-9387-defe134c3e66\",\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport { api };","map":{"version":3,"names":["Api","constructor","options","_baseUrl","baseUrl","_headers","headers","_handleResponse","res","ok","Promise","reject","status","json","getUserInfo","fetch","method","then","getInitialCards","setUserInfo","_ref","inputName","inputAbout","body","JSON","stringify","name","about","createNewCard","data","likeCard","_id","disLike","deleteCard","id","updateAvatar","avatar","api","authorization"],"sources":["/Users/roman/Documents/Я.Практикум/Projects/mesto-react/src/utils/Api.js"],"sourcesContent":["export default class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _handleResponse(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then(this._handleResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then(this._handleResponse);\n  }\n\n  setUserInfo({ inputName, inputAbout }) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: inputName,\n        about: inputAbout,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  createNewCard(data) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then(this._handleResponse);\n  }\n\n  likeCard(data) {\n    return fetch(`${this._baseUrl}/cards/${data._id}/likes`, {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then(this._handleResponse);\n  }\n\n  disLike(data) {\n    return fetch(`${this._baseUrl}/cards/${data._id}/likes`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._handleResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._handleResponse);\n  }\n\n  updateAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then(this._handleResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-66\",\n  headers: {\n    authorization: \"aa98c8c5-50a3-4af7-9387-defe134c3e66\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport { api };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}