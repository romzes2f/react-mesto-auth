{"ast":null,"code":"import _slicedToArray from\"/Users/roman/Documents/\\u042F.\\u041F\\u0440\\u0430\\u043A\\u0442\\u0438\\u043A\\u0443\\u043C/Projects/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import api from\"../utils/api.js\";import Card from\"./Card.jsx\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(_ref){var onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onEditAvatar=_ref.onEditAvatar,onOpenImage=_ref.onOpenImage,onDeleteConfirmation=_ref.onDeleteConfirmation;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];// Изменение профиля\nvar _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];// Добавление карточки\nvar _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];// Обновление аватара\nvar _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];// Загрузка карточек с сервера\nvar _React$useState9=React.useState(''),_React$useState10=_slicedToArray(_React$useState9,2),myId=_React$useState10[0],setMyId=_React$useState10[1];// Запись АйДи юзера\nReact.useEffect(function(){Promise.all([api.getCards(),// Запрашиваем массив карточек с сервера\napi.getUserInfo()// Запрашиваем данные юзера\n]).then(function(_ref2){var _ref3=_slicedToArray(_ref2,2),cardsData=_ref3[0],user=_ref3[1];setMyId(user._id);// Записываем свой АйДи\nsetUserName(user.name);setUserDescription(user.about);setUserAvatar(user.avatar);setCards(cardsData);}).catch(function(err){console.error(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content App__content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__item\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"profile__avatar-edit\",type:\"button\",\"aria-label\":\"\\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",onClick:onEditAvatar,children:/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar\",src:userAvatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__name-item\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit\",type:\"button\",\"aria-label\":\"\\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",onClick:onEditProfile})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__caption\",children:userDescription})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__add-element\",type:\"button\",\"aria-label\":\"\\u0434\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u044E\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"elements__list\",children:cards.map(function(cardData){return/*#__PURE__*/_jsx(Card,{cardData:cardData,onOpenImage:onOpenImage,myId:myId,onDeleteConfirmation:onDeleteConfirmation},cardData._id);})})})]});}export default Main;","map":{"version":3,"names":["React","api","Card","jsx","_jsx","jsxs","_jsxs","Main","_ref","onEditProfile","onAddPlace","onEditAvatar","onOpenImage","onDeleteConfirmation","_React$useState","useState","_React$useState2","_slicedToArray","userName","setUserName","_React$useState3","_React$useState4","userDescription","setUserDescription","_React$useState5","_React$useState6","userAvatar","setUserAvatar","_React$useState7","_React$useState8","cards","setCards","_React$useState9","_React$useState10","myId","setMyId","useEffect","Promise","all","getCards","getUserInfo","then","_ref2","_ref3","cardsData","user","_id","name","about","avatar","catch","err","console","error","className","children","type","onClick","src","alt","map","cardData"],"sources":["/Users/roman/Documents/Я.Практикум/Projects/mesto-react/src/components/Main.jsx"],"sourcesContent":["import React from \"react\"\nimport api from \"../utils/api.js\"\nimport Card from \"./Card.jsx\"\n\nfunction Main({ \n  onEditProfile, // Слушатель открытия профиля\n  onAddPlace, // Слушатель добавления карточки\n  onEditAvatar, // Слушатель редактирования аватара\n  onOpenImage, // Слушатель открытия картинки\n  onDeleteConfirmation // Слушатель подтверждения удаления\n  }) {\n\n  const [userName, setUserName] = React.useState('') // Изменение профиля\n  const [userDescription, setUserDescription] = React.useState('') // Добавление карточки\n  const [userAvatar, setUserAvatar] = React.useState('') // Обновление аватара\n  const [cards, setCards] = React.useState([]) // Загрузка карточек с сервера\n  const [myId, setMyId] = React.useState('') // Запись АйДи юзера\n\n  React.useEffect(() => {\n    Promise.all([\n      api.getCards(), // Запрашиваем массив карточек с сервера\n      api.getUserInfo() // Запрашиваем данные юзера\n    ])\n    .then(([cardsData, user]) => {\n      setMyId(user._id) // Записываем свой АйДи\n      setUserName(user.name)\n      setUserDescription(user.about)\n      setUserAvatar(user.avatar)\n      setCards(cardsData)\n    })\n    .catch((err) => {\n      console.error(err);\n    })\n  }, [])\n\n  return (\n    <main className=\"content App__content\">\n      <section className=\"profile\">\n        <div className=\"profile__item\">\n\n          <button className=\"profile__avatar-edit\" \n          type=\"button\" \n          aria-label=\"редактировать аватар\"\n          onClick={onEditAvatar}>\n            <img className=\"profile__avatar\" \n            src={userAvatar} \n            alt=\"Аватар профиля\" />\n          </button>\n          \n          <div className=\"profile__info\">\n            <div className=\"profile__name-item\">\n              <h1 className=\"profile__name\">{userName}</h1>\n              \n              <button className=\"profile__edit\" \n              type=\"button\" \n              aria-label=\"редактировать профиль\"\n              onClick={onEditProfile} />\n            </div>\n\n            <p className=\"profile__caption\">{userDescription}</p>\n          </div>\n        </div>\n\n        <button className=\"profile__add-element\" \n        type=\"button\" \n        aria-label=\"добавить фотографию\"\n        onClick={onAddPlace}>\n        </button>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {cards.map((cardData) => {\n            return (\n              <Card \n              key={cardData._id}\n              cardData={cardData}\n              onOpenImage={onOpenImage}\n              myId={myId}\n              onDeleteConfirmation={onDeleteConfirmation} />\n            )\n          })}\n        </ul>\n      </section>\n    </main>\n  )\n}\n\nexport default Main"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}