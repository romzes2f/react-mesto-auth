{"ast":null,"code":"var _jsxFileName = \"/Users/roman/Documents/\\u042F.\\u041F\\u0440\\u0430\\u043A\\u0442\\u0438\\u043A\\u0443\\u043C/Projects/mesto-react/src/components/Main.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport api from \"../utils/api.js\";\nimport Card from \"./Card.jsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Main(_ref) {\n  _s();\n  let {\n    onEditProfile,\n    // Слушатель открытия профиля\n    onAddPlace,\n    // Слушатель добавления карточки\n    onEditAvatar,\n    // Слушатель редактирования аватара\n    onOpenImage,\n    // Слушатель открытия картинки\n    onDeleteConfirmation // Слушатель подтверждения удаления\n  } = _ref;\n  const [userName, setUserName] = React.useState(''); // Изменение профиля\n  const [userDescription, setUserDescription] = React.useState(''); // Добавление карточки\n  const [userAvatar, setUserAvatar] = React.useState(''); // Обновление аватара\n  const [cards, setCards] = React.useState([]); // Загрузка карточек с сервера\n  const [myId, setMyId] = React.useState(''); // Запись АйДи юзера\n\n  React.useEffect(() => {\n    Promise.all([api.getCards(),\n    // Запрашиваем массив карточек с сервера\n    api.getUserInfo() // Запрашиваем данные юзера\n    ]).then(_ref2 => {\n      let [cardsData, user] = _ref2;\n      setMyId(user._id); // Записываем свой АйДи\n      setUserName(user.name);\n      setUserDescription(user.about);\n      setUserAvatar(user.avatar);\n      setCards(cardsData);\n    }).catch(err => {\n      console.error(err);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"content App__content\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile__item\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"profile__avatar-edit\",\n          type: \"button\",\n          \"aria-label\": \"\\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",\n          onClick: onEditAvatar,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"profile__avatar\",\n            src: userAvatar,\n            alt: \"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile__info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile__name-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"profile__name\",\n              children: userName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"profile__edit\",\n              type: \"button\",\n              \"aria-label\": \"\\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",\n              onClick: onEditProfile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"profile__caption\",\n            children: userDescription\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"profile__add-element\",\n        type: \"button\",\n        \"aria-label\": \"\\u0434\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u044E\",\n        onClick: onAddPlace\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"elements\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"elements__list\",\n        children: cards.map(cardData => {\n          return /*#__PURE__*/_jsxDEV(Card, {\n            cardData: cardData,\n            onOpenImage: onOpenImage,\n            myId: myId,\n            onDeleteConfirmation: onDeleteConfirmation\n          }, cardData._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(Main, \"sTestHdkWNay7k9NNaKUqLRyW4A=\");\n_c = Main;\nexport default Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","api","Card","jsxDEV","_jsxDEV","Main","_ref","_s","onEditProfile","onAddPlace","onEditAvatar","onOpenImage","onDeleteConfirmation","userName","setUserName","useState","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","myId","setMyId","useEffect","Promise","all","getCards","getUserInfo","then","_ref2","cardsData","user","_id","name","about","avatar","catch","err","console","error","className","children","type","onClick","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","map","cardData","_c","$RefreshReg$"],"sources":["/Users/roman/Documents/Я.Практикум/Projects/mesto-react/src/components/Main.jsx"],"sourcesContent":["import React from \"react\"\nimport api from \"../utils/api.js\"\nimport Card from \"./Card.jsx\"\n\nfunction Main({ \n  onEditProfile, // Слушатель открытия профиля\n  onAddPlace, // Слушатель добавления карточки\n  onEditAvatar, // Слушатель редактирования аватара\n  onOpenImage, // Слушатель открытия картинки\n  onDeleteConfirmation // Слушатель подтверждения удаления\n  }) {\n\n  const [userName, setUserName] = React.useState('') // Изменение профиля\n  const [userDescription, setUserDescription] = React.useState('') // Добавление карточки\n  const [userAvatar, setUserAvatar] = React.useState('') // Обновление аватара\n  const [cards, setCards] = React.useState([]) // Загрузка карточек с сервера\n  const [myId, setMyId] = React.useState('') // Запись АйДи юзера\n\n  React.useEffect(() => {\n    Promise.all([\n      api.getCards(), // Запрашиваем массив карточек с сервера\n      api.getUserInfo() // Запрашиваем данные юзера\n    ])\n    .then(([cardsData, user]) => {\n      setMyId(user._id) // Записываем свой АйДи\n      setUserName(user.name)\n      setUserDescription(user.about)\n      setUserAvatar(user.avatar)\n      setCards(cardsData)\n    })\n    .catch((err) => {\n      console.error(err);\n    })\n  }, [])\n\n  return (\n    <main className=\"content App__content\">\n      <section className=\"profile\">\n        <div className=\"profile__item\">\n\n          <button className=\"profile__avatar-edit\" \n          type=\"button\" \n          aria-label=\"редактировать аватар\"\n          onClick={onEditAvatar}>\n            <img className=\"profile__avatar\" \n            src={userAvatar} \n            alt=\"Аватар профиля\" />\n          </button>\n          \n          <div className=\"profile__info\">\n            <div className=\"profile__name-item\">\n              <h1 className=\"profile__name\">{userName}</h1>\n              \n              <button className=\"profile__edit\" \n              type=\"button\" \n              aria-label=\"редактировать профиль\"\n              onClick={onEditProfile} />\n            </div>\n\n            <p className=\"profile__caption\">{userDescription}</p>\n          </div>\n        </div>\n\n        <button className=\"profile__add-element\" \n        type=\"button\" \n        aria-label=\"добавить фотографию\"\n        onClick={onAddPlace}>\n        </button>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {cards.map((cardData) => {\n            return (\n              <Card \n              key={cardData._id}\n              cardData={cardData}\n              onOpenImage={onOpenImage}\n              myId={myId}\n              onDeleteConfirmation={onDeleteConfirmation} />\n            )\n          })}\n        </ul>\n      </section>\n    </main>\n  )\n}\n\nexport default Main"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,GAAG,MAAM,iBAAiB;AACjC,OAAOC,IAAI,MAAM,YAAY;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE7B,SAASC,IAAIA,CAAAC,IAAA,EAMR;EAAAC,EAAA;EAAA,IANS;IACZC,aAAa;IAAE;IACfC,UAAU;IAAE;IACZC,YAAY;IAAE;IACdC,WAAW;IAAE;IACbC,oBAAoB,CAAC;EACrB,CAAC,GAAAN,IAAA;EAED,MAAM,CAACO,QAAQ,EAAEC,WAAW,CAAC,GAAGd,KAAK,CAACe,QAAQ,CAAC,EAAE,CAAC,EAAC;EACnD,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGjB,KAAK,CAACe,QAAQ,CAAC,EAAE,CAAC,EAAC;EACjE,MAAM,CAACG,UAAU,EAAEC,aAAa,CAAC,GAAGnB,KAAK,CAACe,QAAQ,CAAC,EAAE,CAAC,EAAC;EACvD,MAAM,CAACK,KAAK,EAAEC,QAAQ,CAAC,GAAGrB,KAAK,CAACe,QAAQ,CAAC,EAAE,CAAC,EAAC;EAC7C,MAAM,CAACO,IAAI,EAAEC,OAAO,CAAC,GAAGvB,KAAK,CAACe,QAAQ,CAAC,EAAE,CAAC,EAAC;;EAE3Cf,KAAK,CAACwB,SAAS,CAAC,MAAM;IACpBC,OAAO,CAACC,GAAG,CAAC,CACVzB,GAAG,CAAC0B,QAAQ,CAAC,CAAC;IAAE;IAChB1B,GAAG,CAAC2B,WAAW,CAAC,CAAC,CAAC;IAAA,CACnB,CAAC,CACDC,IAAI,CAACC,KAAA,IAAuB;MAAA,IAAtB,CAACC,SAAS,EAAEC,IAAI,CAAC,GAAAF,KAAA;MACtBP,OAAO,CAACS,IAAI,CAACC,GAAG,CAAC,EAAC;MAClBnB,WAAW,CAACkB,IAAI,CAACE,IAAI,CAAC;MACtBjB,kBAAkB,CAACe,IAAI,CAACG,KAAK,CAAC;MAC9BhB,aAAa,CAACa,IAAI,CAACI,MAAM,CAAC;MAC1Bf,QAAQ,CAACU,SAAS,CAAC;IACrB,CAAC,CAAC,CACDM,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IACpB,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,oBACElC,OAAA;IAAMqC,SAAS,EAAC,sBAAsB;IAAAC,QAAA,gBACpCtC,OAAA;MAASqC,SAAS,EAAC,SAAS;MAAAC,QAAA,gBAC1BtC,OAAA;QAAKqC,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAE5BtC,OAAA;UAAQqC,SAAS,EAAC,sBAAsB;UACxCE,IAAI,EAAC,QAAQ;UACb,cAAW,qHAAsB;UACjCC,OAAO,EAAElC,YAAa;UAAAgC,QAAA,eACpBtC,OAAA;YAAKqC,SAAS,EAAC,iBAAiB;YAChCI,GAAG,EAAE3B,UAAW;YAChB4B,GAAG,EAAC;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjB,CAAC,eAET9C,OAAA;UAAKqC,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5BtC,OAAA;YAAKqC,SAAS,EAAC,oBAAoB;YAAAC,QAAA,gBACjCtC,OAAA;cAAIqC,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAE7B;YAAQ;cAAAkC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAE7C9C,OAAA;cAAQqC,SAAS,EAAC,eAAe;cACjCE,IAAI,EAAC,QAAQ;cACb,cAAW,2HAAuB;cAClCC,OAAO,EAAEpC;YAAc;cAAAuC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvB,CAAC,eAEN9C,OAAA;YAAGqC,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAAE1B;UAAe;YAAA+B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAEN9C,OAAA;QAAQqC,SAAS,EAAC,sBAAsB;QACxCE,IAAI,EAAC,QAAQ;QACb,cAAW,+GAAqB;QAChCC,OAAO,EAAEnC;MAAW;QAAAsC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACZ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC,eAEV9C,OAAA;MAASqC,SAAS,EAAC,UAAU;MAAAC,QAAA,eAC3BtC,OAAA;QAAIqC,SAAS,EAAC,gBAAgB;QAAAC,QAAA,EAC3BtB,KAAK,CAAC+B,GAAG,CAAEC,QAAQ,IAAK;UACvB,oBACEhD,OAAA,CAACF,IAAI;YAELkD,QAAQ,EAAEA,QAAS;YACnBzC,WAAW,EAAEA,WAAY;YACzBW,IAAI,EAAEA,IAAK;YACXV,oBAAoB,EAAEA;UAAqB,GAJtCwC,QAAQ,CAACnB,GAAG;YAAAc,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAI4B,CAAC;QAElD,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEX;AAAC3C,EAAA,CAlFQF,IAAI;AAAAgD,EAAA,GAAJhD,IAAI;AAoFb,eAAeA,IAAI;AAAA,IAAAgD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}