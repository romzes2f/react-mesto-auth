{"ast":null,"code":"import _classCallCheck from\"/Users/roman/Documents/\\u042F.\\u041F\\u0440\\u0430\\u043A\\u0442\\u0438\\u043A\\u0443\\u043C/Projects/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/roman/Documents/\\u042F.\\u041F\\u0440\\u0430\\u043A\\u0442\\u0438\\u043A\\u0443\\u043C/Projects/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(params){_classCallCheck(this,Api);this.url=params.url;this.headers=params.headers;}_createClass(Api,[{key:\"getResponse\",value:function getResponse(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this.url,\"/users/me\"),{method:\"GET\",headers:this.headers}).then(this.getResponse);}},{key:\"editUserInfo\",value:function editUserInfo(item){return fetch(\"\".concat(this.url,\"/users/me\"),{method:\"PATCH\",headers:this.headers,body:JSON.stringify({name:item.name,about:item.about})}).then(this.getResponse);}},{key:\"editUserPhoto\",value:function editUserPhoto(item){return fetch(\"\".concat(this.url,\"/users/me/avatar\"),{method:\"PATCH\",headers:this.headers,body:JSON.stringify({avatar:item.avatar})}).then(this.getResponse);}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this.url,\"/cards\"),{method:\"GET\",headers:this.headers}).then(this.getResponse);}},{key:\"addNewCard\",value:function addNewCard(item){return fetch(\"\".concat(this.url,\"/cards\"),{method:\"POST\",headers:this.headers,body:JSON.stringify({name:item.name,link:item.link})}).then(this.getResponse);}},{key:\"deleteCard\",value:function deleteCard(cardId){return fetch(\"\".concat(this.url,\"/cards/\").concat(cardId),{method:\"DELETE\",headers:this.headers}).then(this.getResponse);}},{key:\"likeCard\",value:function likeCard(cardId){return fetch(\"\".concat(this.url,\"/cards/\").concat(cardId,\"/likes\"),{method:\"PUT\",headers:this.headers}).then(this.getResponse);}},{key:\"dislikeCard\",value:function dislikeCard(cardId){return fetch(\"\".concat(this.url,\"/cards/\").concat(cardId,\"/likes\"),{method:\"DELETE\",headers:this.headers}).then(this.getResponse);}}]);return Api;}();var api=new Api({url:\"https://mesto.nomoreparties.co/v1/cohort-68\",headers:{authorization:\"5e341264-ca7e-4fb2-b0c7-97939544a65a\",\"content-type\":\"application/json\"}});export default api;","map":{"version":3,"names":["Api","params","_classCallCheck","url","headers","_createClass","key","value","getResponse","res","ok","json","Promise","reject","concat","status","getUserInfo","fetch","method","then","editUserInfo","item","body","JSON","stringify","name","about","editUserPhoto","avatar","getInitialCards","addNewCard","link","deleteCard","cardId","likeCard","dislikeCard","api","authorization"],"sources":["/Users/roman/Documents/Я.Практикум/Projects/react-mesto-auth/src/utils/Api.js"],"sourcesContent":["class Api {\n  constructor(params) {\n    this.url = params.url\n    this.headers = params.headers\n  }\n\n  getResponse(res) {\n    if (res.ok) {\n      return res.json()\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`)\n    }\n  }\n\n  getUserInfo() {\n    return fetch(`${this.url}/users/me`, {\n      method: \"GET\",\n      headers: this.headers,\n    }).then(this.getResponse)\n  }\n\n  editUserInfo(item) {\n    return fetch(`${this.url}/users/me`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: item.name,\n        about: item.about,\n      }),\n    }).then(this.getResponse)\n  }\n\n  editUserPhoto(item) {\n    return fetch(`${this.url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: item.avatar,\n      }),\n    }).then(this.getResponse)\n  }\n\n  getInitialCards() {\n    return fetch(`${this.url}/cards`, {\n      method: \"GET\",\n      headers: this.headers,\n    }).then(this.getResponse)\n  }\n\n  addNewCard(item) {\n    return fetch(`${this.url}/cards`, {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: item.name,\n        link: item.link,\n      }),\n    }).then(this.getResponse)\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this.url}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then(this.getResponse)\n  }\n\n  likeCard(cardId) {\n    return fetch(`${this.url}/cards/${cardId}/likes`, {\n      method: \"PUT\",\n      headers: this.headers,\n    }).then(this.getResponse)\n  }\n\n  dislikeCard(cardId) {\n    return fetch(`${this.url}/cards/${cardId}/likes`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then(this.getResponse)\n  }\n}\n\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-68\",\n  headers: {\n    authorization: \"5e341264-ca7e-4fb2-b0c7-97939544a65a\",\n    \"content-type\": \"application/json\",\n  },\n})\n\nexport default api"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}