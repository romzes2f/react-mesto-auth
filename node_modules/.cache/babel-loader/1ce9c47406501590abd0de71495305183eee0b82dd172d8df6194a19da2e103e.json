{"ast":null,"code":"var _jsxFileName = \"/Users/roman/Documents/\\u042F.\\u041F\\u0440\\u0430\\u043A\\u0442\\u0438\\u043A\\u0443\\u043C/Projects/mesto-react/src/components/EditProfilePopup.js\",\n  _s = $RefreshSig$();\nimport React, { useContext } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditProfilePopup(_ref) {\n  _s();\n  let {\n    isOpen,\n    onClose,\n    onUpdateUser,\n    buttonText\n  } = _ref;\n  const currentUser = useContext(CurrentUserContext);\n  const nameRef = React.useRef();\n  const descriptionRef = React.useRef();\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const [nameError, setNameError] = React.useState(\"\");\n  const [descriptionError, setDescriptionError] = React.useState(\"\");\n  const [isValid, setIsValid] = React.useState(false);\n  const changeIsValid = () => {\n    if (nameRef.current.validity.valid && descriptionRef.current.validity.valid) setIsValid(true);else setIsValid(false);\n  };\n  React.useEffect(() => {\n    const {\n      name,\n      about\n    } = currentUser;\n    if (!name || !about) return;\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    onUpdateUser({\n      name,\n      about: description\n    });\n  };\n  const handleInputNameChange = evt => {\n    setName(evt.target.value);\n    setNameError(evt.target.validationMessage);\n    changeIsValid();\n  };\n  const handleInputDescriptionChange = evt => {\n    setDescription(evt.target.value);\n    setDescriptionError(evt.target.validationMessage);\n    changeIsValid();\n  };\n  return /*#__PURE__*/_jsxDEV(PopupWithForm, {\n    title: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",\n    name: \"edit-profile\",\n    buttonText: buttonText,\n    isOpen: isOpen,\n    onClose: onClose,\n    onSubmit: handleSubmit,\n    isValid: isValid,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"input-name\",\n      className: `popup__input popup__input_field_first ${nameError !== \"\" && \"popup__input_type_error\"}`,\n      placeholder: \"\\u0418\\u043C\\u044F\",\n      minLength: \"2\",\n      maxLength: \"40\",\n      value: name,\n      onInput: handleInputNameChange,\n      ref: nameRef,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      id: \"input-name-error\",\n      className: `popup__error ${nameError !== \"\" && \"popup__error_visible\"}`,\n      children: nameError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"input-about\",\n      className: `popup__input popup__input_field_second ${descriptionError !== \"\" && \"popup__input_type_error\"}`,\n      placeholder: \"\\u041E \\u0441\\u0435\\u0431\\u0435\",\n      minLength: \"2\",\n      maxLength: \"200\",\n      value: description,\n      onInput: handleInputDescriptionChange,\n      ref: descriptionRef,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      id: \"input-about-error\",\n      className: `popup__error ${descriptionError !== \"\" && \"popup__error_visible\"}`,\n      children: descriptionError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(EditProfilePopup, \"I1dqi56lX9Wm6IKTLFFc5GwGZC4=\");\n_c = EditProfilePopup;\nvar _c;\n$RefreshReg$(_c, \"EditProfilePopup\");","map":{"version":3,"names":["React","useContext","PopupWithForm","CurrentUserContext","jsxDEV","_jsxDEV","EditProfilePopup","_ref","_s","isOpen","onClose","onUpdateUser","buttonText","currentUser","nameRef","useRef","descriptionRef","name","setName","useState","description","setDescription","nameError","setNameError","descriptionError","setDescriptionError","isValid","setIsValid","changeIsValid","current","validity","valid","useEffect","about","handleSubmit","evt","preventDefault","handleInputNameChange","target","value","validationMessage","handleInputDescriptionChange","title","onSubmit","children","type","id","className","placeholder","minLength","maxLength","onInput","ref","required","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/roman/Documents/Я.Практикум/Projects/mesto-react/src/components/EditProfilePopup.js"],"sourcesContent":["import React, { useContext } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nexport default function EditProfilePopup({\n  isOpen,\n  onClose,\n  onUpdateUser,\n  buttonText,\n}) {\n  const currentUser = useContext(CurrentUserContext);\n  const nameRef = React.useRef();\n  const descriptionRef = React.useRef();\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const [nameError, setNameError] = React.useState(\"\");\n  const [descriptionError, setDescriptionError] = React.useState(\"\");\n  const [isValid, setIsValid] = React.useState(false);\n  const changeIsValid = () => {\n    if (nameRef.current.validity.valid && descriptionRef.current.validity.valid)\n      setIsValid(true);\n    else setIsValid(false);\n  };\n  React.useEffect(() => {\n    const { name, about } = currentUser;\n    if (!name || !about) return;\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  };\n\n  const handleInputNameChange = (evt) => {\n    setName(evt.target.value);\n    setNameError(evt.target.validationMessage);\n    changeIsValid();\n  };\n  const handleInputDescriptionChange = (evt) => {\n    setDescription(evt.target.value);\n    setDescriptionError(evt.target.validationMessage);\n    changeIsValid();\n  };\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"edit-profile\"\n      buttonText={buttonText}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isValid={isValid}\n    >\n      <input\n        type=\"text\"\n        id=\"input-name\"\n        className={`popup__input popup__input_field_first ${\n          nameError !== \"\" && \"popup__input_type_error\"\n        }`}\n        placeholder=\"Имя\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        value={name}\n        onInput={handleInputNameChange}\n        ref={nameRef}\n        required\n      />\n      <span\n        id=\"input-name-error\"\n        className={`popup__error ${nameError !== \"\" && \"popup__error_visible\"}`}\n      >\n        {nameError}\n      </span>\n      <input\n        type=\"text\"\n        id=\"input-about\"\n        className={`popup__input popup__input_field_second ${\n          descriptionError !== \"\" && \"popup__input_type_error\"\n        }`}\n        placeholder=\"О себе\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        value={description}\n        onInput={handleInputDescriptionChange}\n        ref={descriptionRef}\n        required\n      />\n      <span\n        id=\"input-about-error\"\n        className={`popup__error ${\n          descriptionError !== \"\" && \"popup__error_visible\"\n        }`}\n      >\n        {descriptionError}\n      </span>\n    </PopupWithForm>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}