{"ast":null,"code":"import _classCallCheck from\"/Users/roman/Documents/\\u042F.\\u041F\\u0440\\u0430\\u043A\\u0442\\u0438\\u043A\\u0443\\u043C/Projects/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/roman/Documents/\\u042F.\\u041F\\u0440\\u0430\\u043A\\u0442\\u0438\\u043A\\u0443\\u043C/Projects/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._baseUrl=options.baseUrl;this._headers=options.headers;this._authorization=options.headers.authorization;}_createClass(Api,[{key:\"_getResponseData\",value:function _getResponseData(res){if(!res.ok){return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}return res.json();}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(this._baseUrl+'/users/me',{headers:{authorization:this._authorization}}).then(this._getResponseData);}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(this._baseUrl+'/cards',{headers:{authorization:this._authorization}}).then(this._getResponseData);}},{key:\"setUserInfo\",value:function setUserInfo(data){return fetch(this._baseUrl+'/users/me',{method:'PATCH',headers:this._headers,body:JSON.stringify({name:data.name,about:data.job})}).then(this._getResponseData);}},{key:\"createNewCard\",value:function createNewCard(name,link){return fetch(this._baseUrl+'/cards',{method:'POST',headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(this._getResponseData);}},{key:\"deleteCard\",value:function deleteCard(cardId){return fetch(this._baseUrl+'/cards/'+cardId,{method:'DELETE',headers:{authorization:this._authorization}}).then(this._getResponseData);}},{key:\"addLike\",value:function addLike(cardId){return fetch(this._baseUrl+'/cards/'+cardId+'/likes',{method:'PUT',headers:{authorization:this._authorization}}).then(this._getResponseData);}},{key:\"deleteLike\",value:function deleteLike(cardId){return fetch(this._baseUrl+'/cards/'+cardId+'/likes',{method:'DELETE',headers:{authorization:this._authorization}}).then(this._getResponseData);}},{key:\"updateUserAvatar\",value:function updateUserAvatar(avatar){return fetch(this._baseUrl+'/users/me/avatar',{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(this._getResponseData);}}]);return Api;}();export var api=new Api({baseUrl:'https://nomoreparties.co/v1/cohort-68',headers:{authorization:'d04afa61-1239-4cd9-8e4f-6ea23509e870','Content-Type':'application/json'}});","map":{"version":3,"names":["Api","options","_classCallCheck","_baseUrl","baseUrl","_headers","headers","_authorization","authorization","_createClass","key","value","_getResponseData","res","ok","Promise","reject","concat","status","json","getUserInfo","fetch","then","getInitialCards","setUserInfo","data","method","body","JSON","stringify","name","about","job","createNewCard","link","deleteCard","cardId","addLike","deleteLike","updateUserAvatar","avatar","api"],"sources":["/Users/roman/Documents/Я.Практикум/Projects/mesto-react/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n    this._authorization = options.headers.authorization;\n  }\n\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n\n  getUserInfo() {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: {\n        authorization: this._authorization,\n      }\n    })\n      .then(this._getResponseData);\n  };\n\n  getInitialCards() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: {\n        authorization: this._authorization,\n      }\n    })\n      .then(this._getResponseData);\n  };\n\n  setUserInfo(data) {\n    return fetch(this._baseUrl + '/users/me', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.job,\n      })\n    })\n      .then(this._getResponseData);\n  }\n\n  createNewCard(name, link) {\n    return fetch(this._baseUrl + '/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n      .then(this._getResponseData);\n  };\n\n\n  deleteCard(cardId) {\n    return fetch(this._baseUrl + '/cards/' + cardId, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._authorization,\n      },\n    })\n      .then(this._getResponseData);\n  };\n\n  addLike(cardId) {\n    return fetch(this._baseUrl + '/cards/' + cardId + '/likes', {\n      method: 'PUT',\n      headers: {\n        authorization: this._authorization,\n      },\n    })\n      .then(this._getResponseData);\n  }\n\n  deleteLike(cardId) {\n    return fetch(this._baseUrl + '/cards/' + cardId + '/likes', {\n      method: 'DELETE',\n      headers: {\n        authorization: this._authorization,\n      },\n    })\n      .then(this._getResponseData);\n  }\n\n  updateUserAvatar(avatar) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar\n      })\n    })\n      .then(this._getResponseData);\n  }\n\n}\n\nexport const api = new Api({\n  baseUrl: 'https://nomoreparties.co/v1/cohort-68',\n  headers: {\n    authorization: 'd04afa61-1239-4cd9-8e4f-6ea23509e870',\n    'Content-Type': 'application/json'\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}