{"ast":null,"code":"import _slicedToArray from\"/Users/roman/Documents/\\u042F.\\u041F\\u0440\\u0430\\u043A\\u0442\\u0438\\u043A\\u0443\\u043C/Projects/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import api from\"../utils/api.js\";import Card from\"./Card.jsx\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Main(_ref){var onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onEditAvatar=_ref.onEditAvatar,onAddCard=_ref.onAddCard;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userDescription=_useState4[0],setUserDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userAvatar=_useState6[0],setUserAvatar=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),card=_useState8[0],setCard=_useState8[1];useEffect(function(){Promise.all([api.getData(),api.getInitialCards()]).then(function(_ref2){var _ref3=_slicedToArray(_ref2,2),infoUser=_ref3[0],infoCard=_ref3[1];setUserName(infoUser.name);setUserDescription(infoUser.about);setUserAvatar(infoUser.avatar);infoCard.forEach(function(data){return data.myId=infoUser._id;});setCard(infoCard);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__container\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__avatar-button\",onClick:onEditAvatar,children:/*#__PURE__*/_jsx(\"img\",{src:userAvatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F\",className:\"profile__avatar\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info-content\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__title\",children:userName}),/*#__PURE__*/_jsx(\"button\",{\"aria-label\":\"button\",type:\"button\",className:\"profile__edit-button\",onClick:onEditProfile})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__subtitle\",children:userDescription})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__add-button\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{\"aria-label\":\"\\u0413\\u0430\\u043B\\u0435\\u0440\\u0435\\u044F \\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u0435\\u043A\",className:\"gallery\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"elements section\",children:card.map(function(data){return/*#__PURE__*/_jsx(\"li\",{className:\"element\",children:/*#__PURE__*/_jsx(Card,{card:data,onAddCard:onAddCard})},data._id);})})})]});}","map":{"version":3,"names":["useEffect","useState","api","Card","jsx","_jsx","jsxs","_jsxs","Main","_ref","onEditProfile","onAddPlace","onEditAvatar","onAddCard","_useState","_useState2","_slicedToArray","userName","setUserName","_useState3","_useState4","userDescription","setUserDescription","_useState5","_useState6","userAvatar","setUserAvatar","_useState7","_useState8","card","setCard","Promise","all","getData","getInitialCards","then","_ref2","_ref3","infoUser","infoCard","name","about","avatar","forEach","data","myId","_id","className","children","type","onClick","src","alt","map"],"sources":["/Users/roman/Documents/Я.Практикум/Projects/mesto-react/src/components/Main.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport api from \"../utils/api.js\";\nimport Card from \"./Card.jsx\";\n\nexport default function Main({\n  onEditProfile,\n  onAddPlace,\n  onEditAvatar,\n  onAddCard,\n}) {\n  const [userName, setUserName] = useState(\"\");\n  const [userDescription, setUserDescription] = useState(\"\");\n  const [userAvatar, setUserAvatar] = useState(\"\");\n  const [card, setCard] = useState([]);\n\n  useEffect(() => {\n    Promise.all([api.getData(), api.getInitialCards()]).then(\n      ([infoUser, infoCard]) => {\n        setUserName(infoUser.name);\n        setUserDescription(infoUser.about);\n        setUserAvatar(infoUser.avatar);\n        infoCard.forEach((data) => (data.myId = infoUser._id));\n        setCard(infoCard);\n      }\n    );\n  }, []);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile section\">\n        <div className=\"profile__container\">\n          <button\n            type=\"button\"\n            className=\"profile__avatar-button\"\n            onClick={onEditAvatar}\n          >\n            <img\n              src={userAvatar}\n              alt=\"Аватар профиля\"\n              className=\"profile__avatar\"\n            />\n          </button>\n          <div className=\"profile__info\">\n            <div className=\"profile__info-content\">\n              <h1 className=\"profile__title\">{userName}</h1>\n              <button\n                aria-label=\"button\"\n                type=\"button\"\n                className=\"profile__edit-button\"\n                onClick={onEditProfile}\n              />\n            </div>\n            <p className=\"profile__subtitle\">{userDescription}</p>\n          </div>\n        </div>\n        <button\n          type=\"button\"\n          className=\"profile__add-button\"\n          onClick={onAddPlace}\n        ></button>\n      </section>\n      <section aria-label=\"Галерея карточек\" className=\"gallery\">\n        <ul className=\"elements section\">\n          {card.map((data) => {\n            return (\n              <li className=\"element\" key={data._id}>\n                <Card card={data} onAddCard={onAddCard} />\n              </li>\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}