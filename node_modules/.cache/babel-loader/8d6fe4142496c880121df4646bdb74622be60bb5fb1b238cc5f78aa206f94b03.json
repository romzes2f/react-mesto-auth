{"ast":null,"code":"import _slicedToArray from\"/Users/roman/Documents/\\u042F.\\u041F\\u0440\\u0430\\u043A\\u0442\\u0438\\u043A\\u0443\\u043C/Projects/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import CurrentUserContext from\"../contexts/CurrentUserContext\";import PopupWithForm from\"./PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onUpdateUser=_ref.onUpdateUser,onLoading=_ref.onLoading,onClose=_ref.onClose,onCloseOverlay=_ref.onCloseOverlay;var currentUser=React.useContext(CurrentUserContext);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),about=_useState2[0],setAbout=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];useEffect(function(){setName(currentUser.name);setAbout(currentUser.about);},[currentUser,isOpen]);function handleSubmit(e){e.preventDefault();onUpdateUser({name:name,about:about});}function handleChangeName(e){setName(e.target.value);}function handleChangeAbout(e){setAbout(e.target.value);}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"popupEditProfile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",buttonText:onLoading?\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0435\\u043D\\u0438\\u0435...\":\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",onSubmit:handleSubmit,onClose:onClose,isOpen:isOpen,onCloseOverlay:onCloseOverlay,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup__form-input\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__form-item popup__form-item_input_name\",type:\"text\",name:\"name\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\",value:name||\"\",onChange:handleChangeName,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__form-error popup__form-error_active\",id:\"error-profile\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup__form-input\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__form-item popup__form-item_input_job\",type:\"text\",name:\"about\",placeholder:\"\\u041F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u044F\",minLength:\"2\",maxLength:\"200\",value:about||\"\",onChange:handleChangeAbout,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__form-error popup__form-error_active\"})]})]});}export default EditProfilePopup;","map":{"version":3,"names":["React","useState","useEffect","CurrentUserContext","PopupWithForm","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","isOpen","onUpdateUser","onLoading","onClose","onCloseOverlay","currentUser","useContext","_useState","_useState2","_slicedToArray","about","setAbout","_useState3","_useState4","name","setName","handleSubmit","e","preventDefault","handleChangeName","target","value","handleChangeAbout","title","buttonText","onSubmit","children","className","type","placeholder","minLength","maxLength","onChange","required","id"],"sources":["/Users/roman/Documents/Я.Практикум/Projects/react-mesto-auth/src/components/EditProfilePopup.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport CurrentUserContext from \"../contexts/CurrentUserContext\"\nimport PopupWithForm from \"./PopupWithForm\"\n\nfunction EditProfilePopup({\n  isOpen,\n  onUpdateUser,\n  onLoading,\n  onClose,\n  onCloseOverlay,\n}) {\n  const currentUser = React.useContext(CurrentUserContext)\n  const [about, setAbout] = useState(\"\")\n  const [name, setName] = useState(\"\")\n\n  useEffect(() => {\n    setName(currentUser.name)\n    setAbout(currentUser.about)\n  }, [currentUser, isOpen])\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onUpdateUser({\n      name: name,\n      about: about,\n    })\n  }\n\n  function handleChangeName(e) {\n    setName(e.target.value)\n  }\n\n  function handleChangeAbout(e) {\n    setAbout(e.target.value)\n  }\n\n  return (\n    <PopupWithForm\n      name=\"popupEditProfile\"\n      title=\"Редактировать профиль\"\n      buttonText={onLoading ? `Сохранение...` : `Сохранить`}\n      onSubmit={handleSubmit}\n      onClose={onClose}\n      isOpen={isOpen}\n      onCloseOverlay={onCloseOverlay}\n    >\n      <div className=\"popup__form-input\">\n        <input\n          className=\"popup__form-item popup__form-item_input_name\"\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Имя\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          value={name || \"\"}\n          onChange={handleChangeName}\n          required\n        />\n        <span\n          className=\"popup__form-error popup__form-error_active\"\n          id=\"error-profile\"\n        ></span>\n      </div>\n      <div className=\"popup__form-input\">\n        <input\n          className=\"popup__form-item popup__form-item_input_job\"\n          type=\"text\"\n          name=\"about\"\n          placeholder=\"Профессия\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          value={about || \"\"}\n          onChange={handleChangeAbout}\n          required\n        />\n        <span className=\"popup__form-error popup__form-error_active\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}