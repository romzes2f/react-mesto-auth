{"ast":null,"code":"import _slicedToArray from\"/Users/roman/Documents/\\u042F.\\u041F\\u0440\\u0430\\u043A\\u0442\\u0438\\u043A\\u0443\\u043C/Projects/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import api from\"../utils/Api\";import Card from\"./Card\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(_ref){var onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onEditAvatar=_ref.onEditAvatar,onCardClick=_ref.onCardClick;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userDescription=_useState4[0],setUserDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userAvatar=_useState6[0],setUserAvatar=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),cards=_useState8[0],getInitialCards=_useState8[1];useEffect(function(){api.getUserInfo().then(function(profileUserInfo){setUserName(profileUserInfo.name);setUserDescription(profileUserInfo.about);setUserAvatar(profileUserInfo.avatar);}).catch(function(error){return console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(error));});api.getInitialCards().then(function(cardsData){getInitialCards(cardsData.map(function(data){return{likes:data.likes,name:data.name,link:data.link,cardId:data._id};}));}).catch(function(error){return console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(error));});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar\",children:/*#__PURE__*/_jsx(\"button\",{className:\"profile__avatar-button\",type:\"button\",children:/*#__PURE__*/_jsx(\"img\",{className:\"profile__image\",src:userAvatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\",onClick:function onClick(){onEditAvatar(true);}})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__button profile__button_type-edit\",type:\"button\",onClick:function onClick(){onEditProfile(true);}})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__job\",children:userDescription}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__button profile__button_type-add\",type:\"button\",onClick:function onClick(){onAddPlace(true);}})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements__list\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{likes:card.likes,name:card.name,link:card.link,onCardClick:onCardClick},card.cardId);})})]});}export default Main;","map":{"version":3,"names":["React","useEffect","useState","api","Card","jsx","_jsx","jsxs","_jsxs","Main","_ref","onEditProfile","onAddPlace","onEditAvatar","onCardClick","_useState","_useState2","_slicedToArray","userName","setUserName","_useState3","_useState4","userDescription","setUserDescription","_useState5","_useState6","userAvatar","setUserAvatar","_useState7","_useState8","cards","getInitialCards","getUserInfo","then","profileUserInfo","name","about","avatar","catch","error","console","log","concat","cardsData","map","data","likes","link","cardId","_id","className","children","type","src","alt","onClick","card"],"sources":["/Users/roman/Documents/Я.Практикум/Projects/mesto-react/src/components/Main.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport api from \"../utils/Api\"\nimport Card from \"./Card\"\n\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick }) {\n    const [userName, setUserName] = useState(\"\")\n    const [userDescription, setUserDescription] = useState(\"\")\n    const [userAvatar, setUserAvatar] = useState(\"\")\n    const [cards, getInitialCards] = useState([])\n\n    useEffect(() => {\n        api\n            .getUserInfo()\n            .then((profileUserInfo) => {\n                setUserName(profileUserInfo.name)\n                setUserDescription(profileUserInfo.about)\n                setUserAvatar(profileUserInfo.avatar)\n            })\n            .catch((error) => console.log(`Ошибка: ${error}`))\n\n        api\n            .getInitialCards()\n            .then((cardsData) => {\n                getInitialCards(\n                    cardsData.map((data) => ({\n                        likes: data.likes,\n                        name: data.name,\n                        link: data.link,\n                        cardId: data._id,\n                    }))\n                )\n            })\n            .catch((error) => console.log(`Ошибка: ${error}`))\n    }, [])\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__avatar\">\n                    <button className=\"profile__avatar-button\" type=\"button\">\n                        <img\n                            className=\"profile__image\"\n                            src={userAvatar}\n                            alt=\"Аватар\"\n                            onClick={() => {\n                                onEditAvatar(true)\n                            }}\n                        />\n                    </button>\n                </div>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\">{userName}</h1>\n                    <button\n                        className=\"profile__button profile__button_type-edit\"\n                        type=\"button\"\n                        onClick={() => {\n                            onEditProfile(true)\n                        }}\n                    ></button>\n                </div>\n                <p className=\"profile__job\">{userDescription}</p>\n                <button\n                    className=\"profile__button profile__button_type-add\"\n                    type=\"button\"\n                    onClick={() => {\n                        onAddPlace(true)\n                    }}\n                ></button>\n            </section>\n\n            <section className=\"elements__list\">\n                {cards.map((card) => (\n                    <Card\n                        key={card.cardId}\n                        likes={card.likes}\n                        name={card.name}\n                        link={card.link}\n                        onCardClick={onCardClick}\n                    />\n                ))}\n            </section>\n        </main>\n    )\n}\n\nexport default Main"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}